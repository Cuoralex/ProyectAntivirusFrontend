import{a as w}from"/build/_shared/chunk-2MYV6A4K.js";import"/build/_shared/chunk-NKGL3J4W.js";import{a as v,b as k,d as f,e as g,g as h,k as x,r as b}from"/build/_shared/chunk-LU4WXESO.js";import{d as y}from"/build/_shared/chunk-GSPLIXRC.js";import{a as T,b as m}from"/build/_shared/chunk-F33EF4G7.js";import{d as u}from"/build/_shared/chunk-2QEWK57A.js";var n=u(T(),1);var t=u(m(),1);function C({title:e,count:a,icon:c,link:i}){let s=y();return(0,t.jsxs)(w,{onClick:()=>s(i),className:`cursor-pointer p-6 flex items-center justify-between shadow dark:shadow-[0_1px_4px_rgba(255,255,255,0.1)]\r
hover:shadow-xl hover:dark:shadow-[0_2px_10px_rgba(255,255,255,0.3)] transition rounded-2xl  bg-white dark:bg-neutral-600`,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-500 uppercase mb-1 dark:text-white",children:e}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:a})]}),(0,t.jsx)("div",{className:"text-gray-400 text-4xl dark:text-white",children:c})]})}function S(){let[e,a]=(0,n.useState)({users:0,opportunities:0,institutions:0,services:0,serviceTypes:0,opportunityTypes:0,sectors:0});(0,n.useEffect)(()=>{(async()=>{try{let s=[{key:"users",url:"/api/v1/user"},{key:"opportunities",url:"/api/v1/opportunity"},{key:"institutions",url:"/api/v1/institution"},{key:"services",url:"/api/v1/services"},{key:"serviceTypes",url:"/api/ServiceTypes"},{key:"opportunityTypes",url:"/api/v1/opportunity-type"},{key:"sectors",url:"/api/v1/sectors"}],l=await Promise.all(s.map(async o=>{let r=await fetch(`http://localhost:5055${o.url}`,{credentials:"include"});if(!r.ok)return console.warn(`Error al obtener ${o.url}: ${r.status}`),[];try{let p=await r.json();return Array.isArray(p)?p:p.data||[]}catch{return[]}})),d={users:0,opportunities:0,institutions:0,services:0,serviceTypes:0,opportunityTypes:0,sectors:0};s.forEach((o,r)=>{d[o.key]=Array.isArray(l[r])?l[r].length:0}),a(d)}catch(s){console.error("Error cargando estad\xEDsticas",s)}})()},[]);let c=[{title:"Usuarios",count:e.users,icon:(0,t.jsx)(b,{}),link:"/admin/users"},{title:"Oportunidades",count:e.opportunities,icon:(0,t.jsx)(v,{}),link:"/admin/opportunities"},{title:"Instituciones",count:e.institutions,icon:(0,t.jsx)(k,{}),link:"/admin/institutions"},{title:"Servicios",count:e.services,icon:(0,t.jsx)(h,{}),link:"/admin/services"},{title:"Tipos de Servicio",count:e.serviceTypes,icon:(0,t.jsx)(f,{}),link:"/admin/service-types"},{title:"Tipos de Oportunidad",count:e.opportunityTypes,icon:(0,t.jsx)(g,{}),link:"/admin/opportunity-types"},{title:"Sectores",count:e.sectors,icon:(0,t.jsx)(x,{}),link:"/admin/sectors"}];return(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((i,s)=>(0,t.jsx)(C,{...i},s))})}export{S as default};
