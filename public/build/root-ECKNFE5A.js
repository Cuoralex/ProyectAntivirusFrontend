import{a as H,b as J,c as V}from"/build/_shared/chunk-3CADHKZZ.js";import{a as Z}from"/build/_shared/chunk-QEVJBCRC.js";import"/build/_shared/chunk-2AMU242R.js";import{a as D,b as B,c as Q}from"/build/_shared/chunk-IFW57L4L.js";import{a as me}from"/build/_shared/chunk-5VJRENMX.js";import{a as G,b as P,d as _,e as W,f as b,g as $,h as X,i as x,j as Y,k as j,p as K,r as q,s as y}from"/build/_shared/chunk-LU4WXESO.js";import{b as S,c as C,d as U,e as M,f,j as R,l as A,m as T,n as F,o as h,s as I}from"/build/_shared/chunk-GSPLIXRC.js";import{a as O,b as u}from"/build/_shared/chunk-F33EF4G7.js";import{c as N,d as i}from"/build/_shared/chunk-2QEWK57A.js";var ae=N((We,oe)=>{oe.exports={}});var se=N(($e,ne)=>{ne.exports={}});var ie=N((Xe,re)=>{re.exports={}});var d=i(u(),1);function k(){return(0,d.jsxs)("div",{id:"general-layout",children:[(0,d.jsx)(J,{}),(0,d.jsx)(B,{}),(0,d.jsx)(D,{}),(0,d.jsx)("div",{className:"pt-20 overflow-hidden",children:(0,d.jsx)(f,{})}),(0,d.jsx)(H,{}),(0,d.jsx)(Q,{})]})}var g=i(O(),1);var v=i(O(),1),r=i(u(),1);function w({onToggleSidebar:t,isSidebarOpen:a}){let[n,m]=(0,v.useState)(!1),p=U(),{isLoggedIn:l}=c()??{isLoggedIn:!1};function c(){return h().find(E=>E.id==="root")?.data}return(0,v.useEffect)(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),(0,r.jsxs)("header",{className:"fixed top-0 left-0 w-full h-16 bg-white dark:bg-gray-900 text-black dark:text-white shadow-md flex items-center justify-between px-4 md:px-6 z-50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:t,"aria-label":"Toggle Sidebar",className:"md:hidden focus:outline-none",children:a?(0,r.jsx)(y,{size:28}):(0,r.jsx)(x,{size:28})}),(0,r.jsxs)("button",{onClick:()=>p("/"),className:"flex items-center gap-2 text-sm font-medium hover:underline",children:[(0,r.jsx)(b,{size:20}),"Ir al inicio"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("button",{onClick:()=>m(s=>!s),"aria-label":"Toggle Dark Mode",children:n?(0,r.jsx)(K,{size:22}):(0,r.jsx)(Y,{size:22})}),l&&(0,r.jsxs)("button",{onClick:()=>p("/logout"),className:"flex items-center gap-1 text-sm hover:text-red-500",children:[(0,r.jsx)(X,{size:20}),"Cerrar sesi\xF3n"]})]})]})}var e=i(u(),1);function ue(){return h().find(m=>m.id==="root")?.data?.email??null}function z(){let t=C(),a=s=>t.pathname===s||t.pathname.startsWith(s+"/"),n=ue(),[m,p]=(0,g.useState)(null),[l,c]=(0,g.useState)(!1);return(0,g.useEffect)(()=>{(async()=>{try{let ce=(await(await fetch("http://localhost:5055/api/v1/user",{credentials:"include"})).json()).find(de=>de.email===n);p(ce?.fullName.split(" ")[0]??null)}catch(L){console.error("Error al cargar usuarios",L)}})()},[n]),(0,e.jsxs)("div",{className:"flex min-h-screen relative pt-16",children:[(0,e.jsx)(w,{isSidebarOpen:l,onToggleSidebar:()=>c(!l)}),(0,e.jsx)("button",{className:"md:hidden p-4 fixed top-0 right-0 z-50",onClick:()=>c(s=>!s),children:(0,e.jsx)(x,{size:28,className:"text-gray-800"})}),l&&(0,e.jsx)("div",{role:"button",tabIndex:0,"aria-label":"Cerrar men\xFA",className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>c(!1),onKeyDown:s=>{(s.key==="Enter"||s.key==="Escape")&&c(!1)}}),(0,e.jsxs)("div",{className:`fixed z-40 top-0 left-0 h-screen w-72 bg-gray-900 text-white p-4 space-y-4 transform transition-transform duration-300 ease-in-out md:hidden ${l?"translate-x-0":"-translate-x-full"}`,children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold",children:"Admin Panel"}),(0,e.jsx)("button",{onClick:()=>c(!1),children:(0,e.jsx)(y,{size:24})})]}),(0,e.jsx)("nav",{className:"flex flex-col space-y-2",children:(0,e.jsx)(ee,{isActive:a})})]}),(0,e.jsxs)("aside",{className:"hidden md:block fixed h-screen w-72 pt-6 bg-gray-900 text-white p-4 space-y-4",children:[(0,e.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Admin Panel"}),(0,e.jsx)("nav",{className:"flex flex-col space-y-2",children:(0,e.jsx)(ee,{isActive:a})})]}),(0,e.jsxs)("main",{className:"flex-1 p-6 w-full md:ml-72",children:[(0,e.jsxs)("h1",{className:"text-3xl font-bold mb-4 text-gray-700",children:["Hola, ",m??"Usuario"]}),(0,e.jsx)(f,{})]})]})}function ee({isActive:t}){return(0,e.jsx)(e.Fragment,{children:[{to:"/admin/index",icon:(0,e.jsx)(b,{size:20}),label:"Inicio"},{to:"/admin/users",icon:(0,e.jsx)(q,{size:20}),label:"Usuarios"},{to:"/admin/opportunities",icon:(0,e.jsx)(G,{size:20}),label:"Oportunidades"},{to:"/admin/institutions",icon:(0,e.jsx)(P,{size:20}),label:"Instituciones"},{to:"/admin/services",icon:(0,e.jsx)($,{size:20}),label:"Servicios"},{to:"/admin/service-types",icon:(0,e.jsx)(_,{size:20}),label:"Tipos de Servicio"},{to:"/admin/opportunity-types",icon:(0,e.jsx)(W,{size:20}),label:"Tipos de Oportunidad"},{to:"/admin/sectors",icon:(0,e.jsx)(j,{size:20}),label:"Sectores"}].map(n=>(0,e.jsxs)(R,{to:n.to,className:`p-2 rounded flex gap-2 items-center ${t(n.to)?"bg-gray-800 font-semibold":"hover:bg-gray-800"}`,children:[n.icon,n.label]},n.to))})}var te=[{routes:["/","/opportunities","/about-us","/404"],layout:k},{routes:["/auth","/auth/login","/auth/register","/auth_index"],layout:V},{routes:["/admin","/admin/index","/admin/users","/admin/users/:id","/admin/opportunities","/admin/institutions","/admin/services","/admin/service-types","/admin/opportunity-types","/admin/sectors","/admin/config"],layout:z}];var pe=i(ae(),1),fe=i(me(),1),he=i(se(),1),ge=i(ie(),1),o=i(u(),1);var be=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"}];function xe({children:t}){return(0,o.jsxs)("html",{lang:"en",children:[(0,o.jsxs)("head",{children:[(0,o.jsx)("meta",{charSet:"utf-8"}),(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,o.jsx)(T,{}),(0,o.jsx)(A,{})]}),(0,o.jsxs)("body",{children:[t,(0,o.jsx)(I,{}),(0,o.jsx)(F,{})]})]})}function ye(){let t=M();if(S(t)&&t.status===404)return(0,o.jsx)(Z,{});let a="Ocurri\xF3 un error inesperado.";return t instanceof Error&&(a=t.message),(0,o.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center text-center p-6",children:[(0,o.jsx)("h1",{className:"text-5xl font-bold text-red-600",children:"\xA1Ups! Algo sali\xF3 mal"}),(0,o.jsx)("p",{className:"text-xl mt-4 text-gray-600",children:a})]})}function ve(t,a){return a.includes(":")?new RegExp("^"+a.replace(/:\w+/g,"[^/]+")+"$").test(t):t===a}function le(){let t=h(),a=t[t.length-1]?.pathname||"/",m=[...te].sort((l,c)=>Math.max(...c.routes.map(s=>s.length))-Math.max(...l.routes.map(s=>s.length))).find(({routes:l})=>l.some(c=>ve(a,c))),p=m?m.layout:({children:l})=>(0,o.jsx)(o.Fragment,{children:l});return(0,o.jsx)(p,{children:(0,o.jsx)(f,{})})}export{ye as ErrorBoundary,xe as Layout,le as default,be as links};
